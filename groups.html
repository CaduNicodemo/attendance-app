<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Attendance and Homework</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="topbar">
    <a href="calendar.html"><button>Calendar</button></a>
    <span id="userInfo"></span>
    <button id="logoutBtn">Sair</button>
  </div>

  <div id="mainApp" style="display:none;">
    <div class="container">
      <h1>Attendance and Homework</h1>

      <h2>Groups</h2>
      <div id="groupDays">
        <select id="groupType">
        <option value="K1" data-level="Kids">K1</option>
        <option value="K2" data-level="Kids">K2</option>
        <option value="J" data-level="Juniors">J</option>
        <option value="J1" data-level="Juniors">J1</option>
        <option value="J2" data-level="Juniors">J2</option>
        <option value="TA" data-level="Teens">TA</option>
        <option value="T1" data-level="Teens">T1</option>
        <option value="T2" data-level="Teens">T2</option>
        <option value="T3" data-level="Teens">T3</option>
        <option value="T4" data-level="Teens">T4</option>
        <option value="T5" data-level="Teens">T5</option>
        <option value="T6" data-level="Teens">T6</option>
        </select>
        <label><input type="checkbox" value="0"> Domingo</label>
        <label><input type="checkbox" value="1"> Segunda</label>
        <label><input type="checkbox" value="2"> Ter√ßa</label>
        <label><input type="checkbox" value="3"> Quarta</label>
        <label><input type="checkbox" value="4"> Quinta</label>
        <label><input type="checkbox" value="5"> Sexta</label>
        <label><input type="checkbox" value="6"> S√°bado</label>
      </div>


      <input id="groupName" placeholder="Group name">
      <div id="colorPalette">
        <button class="color-option" data-color="var(--vermelho-claro-grupo)" style="background: var(--vermelho-claro-grupo);"></button>
        <button class="color-option" data-color="var(--laranja-grupo)" style="background: var(--laranja-grupo);"></button>
        <button class="color-option" data-color="var(--amarelo-grupo)" style="background: var(--amarelo-grupo);"></button>
        <button class="color-option" data-color="var(--verde-grupo)" style="background: var(--verde-grupo);"></button>
        <button class="color-option" data-color="var(--azul-claro-grupo)" style="background: var(--azul-claro-grupo);"></button>
        <button class="color-option" data-color="var(--azul-grupo)" style="background: var(--azul-grupo);"></button>
        <button class="color-option" data-color="var(--roxo-grupo)" style="background: var(--roxo-grupo);"></button>
        <button class="color-option" data-color="var(--rosa-grupo)" style="background: var(--rosa-grupo);"></button>
      </div>

      <input type="hidden" id="groupColor" value="var(--azul-grupo)">
      <button id="addGroupBtn">Add Group</button>

      <div id="groupsButtons"></div>

      <!-- ===================== -->
      <!-- Se√ß√µes que aparecem ap√≥s selecionar grupo -->
      <!-- ===================== -->
      <div id="groupDetails" style="display:none; margin-top: 30px;">
        <button id="deleteGroupBtn" style="background: crimson; color: white;">üóëÔ∏è Deletar Grupo</button>

        <div id="studentsSection">
          <h3>Students</h3>
          <input id="studentName" placeholder="Student name">
          <button id="addStudentBtn">Add Student</button>
          <table id="studentsTable">
            <tr><th>Name</th><th>Delete</th></tr>
          </table>
        </div>

        <div id="lessonsSection">
          <h3>Lessons</h3>
          <div id="lessonsList">
            <!-- Aulas aparecer√£o aqui -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div id="lessonModal" class="modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; 
       background: rgba(0,0,0,0.5); justify-content:center; align-items:center;">
    <div style="background:white; padding:20px; border-radius:10px; max-height:90%; overflow-y:auto;">
      <h3 id="modalTitle"></h3>
      <table id="modalStudentsTable">
        <tr><th>Student</th><th>Attendance</th><th>Homework</th></tr>
      </table>
      <button id="saveLessonBtn">Save</button>
      <button id="closeLessonBtn">Close</button>
    </div>
  </div>

  <script>
    // Cor de grupo
    document.querySelectorAll('.color-option').forEach(btn => {
      btn.addEventListener('click', () => {
        const selectedColor = btn.dataset.color;
        document.getElementById('groupColor').value = selectedColor;
        document.querySelectorAll('.color-option').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
      });
    });
  </script>

  <script type="module" src="script.js"></script>
</body>
</html>
